---
layout: default
title: vim notes 2014/11/30
---

set smartindent
set tabstop=4
set shiftwidth=4
set expandtab
v进入visual模式选中要缩进的行，然后 > 就相当于tab了。 
直接 >> 就能实现一行的往右移动一个shiftwidth
shift-v 直接选中一行；
ctrl-v 可以实现竖直方向的选中
变量代码自动补全：（即之前输入过的变量）
ctrl-n  
如果不行就这样
vim .vimrc 添加下面两行：
filetype plugin on
set omnifunc=syntaxcomplete#Complete
ctrl-x-o  就能出现自动补全了
>>vim分屏：
:vsp #竖着分屏 ； sp是分成上下两个屏；
两次ctrl-w： 切换光标所在屏幕；
:close 关闭掉当前这个分屏；或者:q也行
vim -o abc.cpp efg.cpp 可以直接横向分屏 ; -O是纵向分屏
同时打开多个文件，用tab的形式： vim -p file1 file2 file3
在已经打开的vim中用tab打开一个新标签   :tabe filename
Order  :set showmode   // shows the mode you are in at the last line of the file.
Insert Mode:
s   delete the letter and start the insert mode;
i    goes into the insert mode and you can add letter at the left side;
A   本行结尾处插入；
o   add from one new line under the current one, 'O' add line above the current one.
!!!!! == "5a!<esc>" in normal mode;
move up 9 lines == "9k" in normal mode;
G # go to end of file
gg # to head of file
:20 # to line 20
0   go to the head of this line.
^  go the the first character of this line
$   go to the end of this line;
e   to the end of next word ; 2e  end of next 2 words
w  go to the beginning of next word;
b   go to beginning of current or previous word; 
ge go to the end of previous word;
:set nu #显示行号
:set nonu #不显示行号
/word # 向下寻找word, n 是下一个被搜到的，N是往上搜；
?word #向上寻找word
'dd' delete the whole line.  'cc'是删除一行后，cursor停在此处并成为insert模式；
dw 删除光标开始的一个单词(到下一个单词的开头），
de是删到本单词末尾；(e as end)
d$  光标删至行末尾;   D  is a synonym for d$. 
cw,ce,c$是一样的，区别是删除后直接进入insert mode。

ddp 上下行交换
:m 16  移动该行到第16行之后
shift j : 让next line紧接着current line

'x' delete one letter.

rx  替换一个字符成x；在将要被替换的地方点r然后点y，这个字符就被替换成了y；

p是粘贴；可以把删除（刚才de的东西直接在cursor处粘贴）
:%s/old/new/g  #全局替换
%s/Article/<h2>Article<\/h2>/gi   # 有要escape的情况，最后加个i
:1,4s/old/new/g    #第一行到第四行的做更改
:s/old/new <enter> #替换第一处
'u' rollback.
'ctrl+r' redo.

'ZZ'  save and quit.

":q!" is unsave and quit. just quit without saving any changes.

":help" shows the help.

"ctrl + ]" goes to next link.
"ctrl + T" goes to the last one link.
"ctrl + O" goes to the first one link.

'zz' 把光标置于屏幕正中的位置

>>  复制粘贴：
1.光标停在需要复制的地方，按v进入视图模式；
2.选择好后，点y；
3.去到要粘贴的地方，点p；

复制当前行并在下一行粘贴：
在当前行 yyp

复制当前光标所在的单词：yiw (yank inner work)

复制并用该内容生成一个新文件
1. v 然后 highlight 内容
2. : 然后看见底部出现 :'<,'>
3. :'<,'>w newfilename <enter>
在文档中输入:help <enter>   可以查看vim的帮助文档；
/usr/share/vim/vim70/doc/文件夹下有很多的未解压的帮助文档，
file usr_xx.txt.gz 后发现是用gzip压缩的文件，于是这么解压：
gunzip usr_21.txt.gz , then you will get a usr_21.txt file.
NERDTree 的安装
1. download nerdtree.zip 
2. mkdir ~/.vim #如果原来自己的目录中没有.vim这个隐藏文件夹的话
3. unzip nerdtree.zip 
4. 将doc 和 plugin文件夹（解压出来的）cp到.vim 中
5. vim file.php , :NERDTree <Enter> 就能出现左边的tree了
操作： ctrl-w-h 光标移动到目录树；ctrl-w-l 光标移动到文件；

原生的目录：
:edit.  这个命令可在vim中打开目录树
在vim中搜整个项目中的string：#  :!ls  就是在vim中直接执行外部的ls命令
:!grep -nrI 'function geta()' /home/linzhen/manage/
:f  显示文件的名字   #same as ctrl-g
ctrl-g 显示文件名
1 ctrl-g 显示full path + 文件名
format php code：
v模式后选中要格式化的code， 再 = 
